<?php
    $_product = $this->getProduct();
    $_helper = $this->helper('catalog/output');
?>
<div class="widget magnify">
		<img class="imgPreview" alt="<?php echo $this->htmlEscape($this->getImageLabel()); ?>" 
			 data-zoom-image="<?php echo $this->helper('catalog/image')->init($_product, 'image');?>" 
			 src="<?php echo $this->helper('catalog/image')->init($_product, 'image')->resize(384);?>" 
			 title="<?php echo $this->htmlEscape($this->getImageLabel()); ?>" />
</div>

<?php if (count($this->getGalleryImages()) > 0): ?>
<div class="product-gallary">
    <?php foreach ($this->getGalleryImages() as $_image): ?>
        <li>
            <a href="#" onclick="popWin('<?php echo $this->getGalleryUrl($_image) ?>', 'gallery', 'width=300,height=300,left=0,top=0,location=no,status=yes,scrollbars=yes,resizable=yes'); return false;" title="<?php echo $this->htmlEscape($_image->getLabel()) ?>"><img src="<?php echo $this->helper('catalog/image')->init($this->getProduct(), 'thumbnail', $_image->getFile())->resize(56); ?>" width="56" height="56" alt="<?php echo $this->htmlEscape($_image->getLabel()) ?>" /></a>
        </li>
        
        <a href="#" data-image="<?php echo $this->helper('catalog/image')->init($this->getProduct(), 'thumbnail', $_image->getFile())->resize(56); ?>" 
           data-zoom-image="<?php echo $this->helper('catalog/image')->init($this->getProduct(), 'image', $_image->getFile()); ?>">
        	<img alt="" src="<?php echo $this->helper('catalog/image')->init($this->getProduct(), 'thumbnail', $_image->getFile())->resize(56); ?>" />
        </a>
    <?php endforeach; ?>
</div>
<?php endif; ?>
<script type="text/javascript">

$j(function(){  
    $j('.imgPreview').elevateZoom({
    	zoomWindowWidth:589,
        zoomWindowHeight:383,
        borderSize:1,
        borderColour:'#AAAAAA',
        zoomWindowOffetx:16,
    	zoomWindowOffety:0
    }); 
});  
</script>