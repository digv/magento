<?php
    $_product = $this->getProduct();
    $_helper = $this->helper('catalog/output');
?>
<div class="widget magnify">
		<img class="imgPreview" alt="<?php echo $this->htmlEscape($this->getImageLabel()); ?>" 
			 data-zoom-image="<?php echo $this->helper('catalog/image')->init($_product, 'image');?>" 
			 src="<?php echo $this->helper('catalog/image')->init($_product, 'image')->resize(384);?>" 
			 title="<?php echo $this->htmlEscape($this->getImageLabel()); ?>" />
</div>


<div class="product-gallary" id="product-gallary">
	<ul id="mycarousel" class="jcarousel-skin-tango">
		<li>
        	<img data-zoom-image="<?php echo $this->helper('catalog/image')->init($_product, 'image');?>" class="productthumbnail" alt="" src="<?php echo $this->helper('catalog/image')->init($_product, 'image')->resize(384);?>" />
    	</li>
	<?php if (count($this->getGalleryImages()) > 0): ?>
    	<?php foreach ($this->getGalleryImages() as $_image): ?>
        <li>
        	<img data-zoom-image="<?php echo $this->helper('catalog/image')->init($this->getProduct(), 'image', $_image->getFile()); ?>" class="productthumbnail" alt="" src="<?php echo $this->helper('catalog/image')->init($this->getProduct(), 'image', $_image->getFile())->resize(384); ?>" />
        </li>
    	<?php endforeach; ?>
   	<?php endif; ?>
   	</ul>
</div>

<script type="text/javascript">

$j(function(){  
    $j('.imgPreview').elevateZoom({
    	gallery:'product-gallary',
    	zoomWindowWidth:589,
        zoomWindowHeight:383,
        borderSize:1,
        borderColour:'#AAAAAA',
        zoomWindowOffetx:16,
    	zoomWindowOffety:0
    });

    $j('#mycarousel').jcarousel({scroll:2});
});  
</script>